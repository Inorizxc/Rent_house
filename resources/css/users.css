/* ===================================
   Spotify UI — users.css
   =================================== */

/* -------- Цветовые токены -------- */
:root{
  --sp-bg: #121212;          /* общий фон */
  --sp-surface: #181818;     /* карточки/панели */
  --sp-surface-2: #1E1E1E;   /* строки таблицы */
  --sp-border: #2a2a2a;
  --sp-text: #EAEAEA;
  --sp-muted: #B3B3B3;
  --sp-green: #1DB954;       /* Spotify Green */
  --sp-green-2: #1ed760;     /* hover */
  --sp-focus: 0 0 0 3px rgba(29,185,84,.35);
  --sp-blue: #3B82F6;
  --sp-red: #ef4444;
}

/* ---------- Spotify Deep Gradient Background ---------- */
body {
  background-color: #121212;
  background-image:
    radial-gradient(
      1000px 600px at 70% -10%,
      rgba(29,185,84,0.22),
      transparent 70%
    ),
    radial-gradient(
      900px 500px at 0% 60%,
      rgba(29,185,84,0.15),
      transparent 75%
    ),
    linear-gradient(
      180deg,
      #121212 0%,
      #0f0f0f 100%
    );
  background-repeat: no-repeat;
  background-size: cover;
  background-attachment: fixed;
  background-blend-mode: soft-light, overlay, normal;
  color: var(--sp-text);
}

/* Фон для Livewire контейнера */
.users-page {
  color: var(--sp-text);
  background: transparent;
}

/* -------- Карточка вокруг таблицы -------- */
.card{
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border: 1px solid var(--sp-border);
  border-radius: 14px;
  box-shadow: 0 12px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
  overflow: hidden;
}

/* -------- Инпуты/селекты -------- */
.input{
  width: 100%;
  border: 1px solid var(--sp-border);
  background: #0f0f0f;
  color: var(--sp-text);
  padding: 10px 14px;
  border-radius: 24px;             /* более "музыкально" округлые */
  outline: none;
  transition: .2s border-color, .2s box-shadow, .2s background;
}
.input::placeholder{ color: var(--sp-muted); }
.input:focus{
  border-color: #3a3a3a;
  box-shadow: var(--sp-focus);
  background: #141414;
}

/* -------- Кнопки -------- */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:.7rem 1.1rem; border-radius: 999px;  /* Spotify pills */
  font-weight:700; letter-spacing:.01em;
  border: 1px solid transparent;
  transition: .15s transform, .2s box-shadow, .2s opacity, .2s background, .2s border-color;
  user-select:none;
}
.btn:active{ transform: translateY(1px) scale(.995); }

.btn-primary{           /* Поиск — вторичный чёрный */
  background: #222; color:#fff; border-color:#2c2c2c;
  box-shadow: 0 8px 18px rgba(0,0,0,.35);
}
.btn-primary:hover{ background:#262626; }

.btn-accent{            /* Создать — фирменный зелёный */
  background: var(--sp-green); color:#000; border-color: transparent;
  box-shadow: 0 10px 22px rgba(29,185,84,.35);
}
.btn-accent:hover{ background: var(--sp-green-2); }

.btn-success{           /* Сохранить/Создать в таблице */
  background: var(--sp-green); color:#000; border-color: transparent;
  box-shadow: 0 10px 22px rgba(29,185,84,.35);
}
.btn-success:hover{ background: var(--sp-green-2); }

.btn-ghost{
  background: transparent; color: var(--sp-text);
  border-color: var(--sp-border);
}
.btn-ghost:hover{ background: #222; }

/* -------- Алерты -------- */
.alert{
  border-radius: 14px; padding:.85rem 1rem; border:1px solid;
}
.alert-success{
  background: rgba(29,185,84,.12);
  color: #b7f7cf;
  border-color: rgba(29,185,84,.3);
}

/* -------- Таблица -------- */
.table{
  width:100%;
  border-collapse: separate;
  border-spacing: 0;
  font-size: .95rem;
}
.table thead th{
  position: sticky; top: 0; z-index: 2;
  background: #101010;
  color: var(--sp-muted);
  text-transform: uppercase;
  font-weight: 800;
  letter-spacing:.06em;
  font-size: .78rem;
  padding: 14px 16px;
  border-bottom: 1px solid var(--sp-border);
}
.table thead th:first-child{ padding-left: 20px; }
.table thead th:last-child { padding-right: 20px; }

.table tbody tr{
  background: var(--sp-surface-2);
  transition: background .15s ease, box-shadow .15s ease;
}
.table tbody tr:nth-child(odd){ background: #1a1a1a; }
.table tbody tr:hover{ background:#202020; }

.table tbody td{
  padding: 12px 16px;
  border-bottom: 1px solid var(--sp-border);
  vertical-align: middle;
  color: var(--sp-text);
}
.table tbody td:first-child{ padding-left: 20px; }
.table tbody td:last-child { padding-right: 20px; }

/* Подсветка редактируемой строки */
.table tbody tr.is-editing{
  background: linear-gradient(180deg, rgba(29,185,84,.12), rgba(29,185,84,.05));
  box-shadow: inset 0 0 0 2px rgba(29,185,84,.35);
}

/* Кликабельные ячейки */
.cell-action{
  display:inline-block;
  padding: 6px 10px;
  border-radius: 14px;
  cursor: pointer;
  transition: background .15s ease, color .15s ease, transform .05s ease;
}
.cell-action:hover{
  background: rgba(29,185,84,.18);
  color: #fff;
}
.cell-action:active{ transform: scale(.98); }

/* Ошибки под инпутами */
.err{
  margin-top: 6px;
  font-size: 12px;
  color: #ffa5a5;
}

/* -------- Пагинация Laravel -------- */
.pagination-wrap nav{ display:flex; justify-content:center; }
.pagination{ display:flex; gap:8px; align-items:center; }
.pagination a, .pagination span{
  display:inline-flex; align-items:center; justify-content:center;
  min-width: 38px; height: 38px; padding: 0 .6rem;
  border-radius: 999px;
  background: #1b1b1b;
  border: 1px solid var(--sp-border);
  color: var(--sp-text); text-decoration:none;
  transition: .2s background, .2s border-color, .2s box-shadow, .2s transform;
}
.pagination a:hover{ background:#222; border-color:#333; }
.pagination .active, .pagination .active .page-link{
  background: var(--sp-green);
  color:#000; border-color: transparent;
  box-shadow: 0 8px 20px rgba(29,185,84,.35);
}

/* ---------- Toolbar (панель поиска и кнопок) ---------- */
.toolbar,
.users-page > .flex.items-center.justify-between {
  flex-wrap: wrap; /* если экран узкий — перенос */
  gap: 10px 14px; /* горизонтальный и вертикальный отступы */
  margin-bottom: 1.5rem;
  padding: 10px 14px;
  border-radius: 14px;
  background: #151515;
  border: 1px solid var(--sp-border);
  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
}

/* Поле поиска */
.users-page .flex input[type="text"] {
  max-width: 100%;
  flex: 1 1 auto;
  min-width: 240px;
  box-sizing: border-box;
  margin-right: 6px;
}

/* Кнопки */
.users-page .flex button {
  flex-shrink: 0;
  height: 42px;
  line-height: 1;
  margin-top: 4px;
  margin-bottom: 4px;
}

/* Убираем вылезание при узких экранах */
@media (max-width: 768px) {
  .users-page .flex {
    flex-direction: column;
    align-items: stretch;
  }
  .users-page .flex input[type="text"] {
    width: 100%;
  }
  .users-page .flex button {
    width: 100%;
  }
}

/* Мобилка — подчёркиваем последний столбец действий */
@media (max-width: 640px){
  .btn{ padding:.55rem .9rem; }
  .table thead th:nth-last-child(1),
  .table tbody td:nth-last-child(1){ position: sticky; right:0; background:#161616; }
}
